---
title: STP生成树相关
date: 2019-06-19 14:34:55
tags:
- stp
- mstp
- rstp
categories:
- 路由交换技术
---
### 协议目的
二层防环

### 交换机角色
根桥（root bridge）生成树的根 整个二层网络只有一个根桥

### 端口角色

* 根端口(Root Port)
非根桥到达根桥路径最“近”的端口为根端口(Root Port)
	在每一台非根桥上有且只有一个根端口
	**根端口的选举**：
	1.比较路径成本，值小者优先（cost）
	2.指定桥ID最小
	3.端口指定端口ID最新
	4.端口的ID最小
	由于端口ID是由优先级和端口号组成，保证了根端口的唯一性
* 指定端口(Designated Port)
根桥上所有二层端口为指定端口(Designated Port)
	1.根路径开销较小
	2.所在交换机网桥ID值最小
	3.端口号最小

* 阻塞预备端口(Alternate Port)
如果一个端口既不是根端口，也不是指定端口，将成为预备端口，该端口会被阻塞，不能转发数据。


